# =============================================================================
# ENVIRONMENT CONFIGURATION - Book Editor
# =============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED: Anthropic API Key
# -----------------------------------------------------------------------------
# Your Anthropic API key for Claude AI integration.
# Get one at: https://console.anthropic.com/
# Format: sk-ant-api03-...
ANTHROPIC_API_KEY=

# -----------------------------------------------------------------------------
# REQUIRED (Production): JWT Secret
# -----------------------------------------------------------------------------
# Secret key for signing JWT tokens. MUST be set in production.
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# If not set, a random secret is generated (tokens won't survive restart).
JWT_SECRET=

# -----------------------------------------------------------------------------
# REQUIRED: Setup Secret (CRITICAL FOR SECURITY)
# -----------------------------------------------------------------------------
# Secret required to complete first-time setup (create initial admin account).
# This prevents unauthorized users from creating admin accounts on public deployments.
#
# IMPORTANT: Set this BEFORE deploying to production!
# Without this, an attacker who reaches your site first could create the admin account.
#
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Example: a1b2c3d4e5f6...
#
# You will enter this secret in the setup wizard when creating your admin account.
SETUP_SECRET=

# -----------------------------------------------------------------------------
# OPTIONAL: Server Configuration
# -----------------------------------------------------------------------------
# Port to run the server on (default: 3001)
PORT=3001

# Environment mode: 'development' or 'production'
# Affects error verbosity, CORS, and security headers.
NODE_ENV=development

# -----------------------------------------------------------------------------
# OPTIONAL: Database Path
# -----------------------------------------------------------------------------
# SQLite database file location (default: ./data/book-editor.db)
# In Docker, this should be inside a mounted volume.
DB_PATH=./data/book-editor.db

# -----------------------------------------------------------------------------
# OPTIONAL: CORS Configuration (Production only)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS.
# Only used when NODE_ENV=production.
# Example: https://yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Never commit this file with actual values to version control
# 2. Use strong, unique values for JWT_SECRET and SETUP_SECRET in production
# 3. SETUP_SECRET is CRITICAL: without it, anyone can create admin on fresh deploy
# 4. Rotate API keys periodically
# 5. In production, ensure NODE_ENV=production for security headers
# 6. After initial setup, SETUP_SECRET is no longer used (but keep it set)
# =============================================================================
